<!DOCTYPE html>
<html>
<head>
	<title>建党99周年</title>

    <!-- Bootstrap -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- 外联CSS -->
    <link rel="stylesheet" type="text/css" href="../css/index.css" />
    <link href="../css/carousel.css" rel="stylesheet">

    <meta charset="utf-8">
	
    <script type="text/javascript">$(document).ready(function(){
    $("#myNav").affix({
        offset: { 
            top: 125 
     	}
    });});
    </script>

</head>
<body data-spy="scroll" data-target="#myScrollspy" onload="init()">

<!-- banner -->
<div class="banner">
    <ul class="nav nav-tabs">
        <li class="active"><a href="index.html">首页</a></li>
        <li><a href="about.html">作品介绍</a></li>
        <li><a href="message.html">关于我们</a></li>
    </ul>
</div>
<!-- /banner -->

<!-- content -->
<div class="container">
	<div class="jumbotron">
        <img src="../images/show_1.jpeg">
        <blockquote><h1>建党99周年</h1><small>不忘初心 <cite title="stick">奋力前行</cite></small></blockquote>
    </div>
    <div class="row">
        <div class="col-xs-3" id="myScrollspy">
            <ul class="nav nav-tabs nav-stacked" id="myNav">
                <li class="active"><a href="#section-1">不忘初心</a></li>
                <li><a href="#section-2">历史进程</a></li>
                <li><a href="#section-3">共同庆祝</a></li>
<!--                 <li><a href="#section-4">第四部分</a></li>
                <li><a href="#section-5">第五部分</a></li> -->
            </ul>
        </div>
        <div class="col-xs-9">
            <h2 id="section-1">不忘初心</h2>

 <div id="container">
    <div id="list" style="left: -900px;">
        <img src="../images/show_2.png" alt="">  
        <img src="../images/show_3.png" alt="">
        <img src="../images/show_4.png" alt="">
        <img src="../images/show_5.png" alt="">
        <img src="../images/show_6.png" alt="">
        <img src="../images/show_2.png" alt="">
        <img src="../images/show_3.png" alt="">
    </div>
    <div id="buttons">
        <span index="1" class="on"></span>
        <span index="2"></span>
        <span index="3"></span>
        <span index="4"></span>
        <span index="5"></span>
    </div>
    <a href="javascript:;" id="prev" class="arrow">&lt;</a>
    <a href="javascript:;" id="next" class="arrow">&gt;</a>
 </div>

    <!-- 逐字出现 -->
        <div id="myDiv"></div>

        <h2 id="section-2">历史进程</h2>
        <div class="improve">
        <h2>中国共产党的发展与建设历程</h2>
<ul id='timeline'>
  <li class='work'>
    <input class='radio' id='work5' name='works' type='radio' checked>
    <div class="relative">
      <label for='work5'>党的一大：中国共产党诞生</label>
      <span class='date'>1921年</span>
      <span class='circle'></span>
    </div>
    <div class='content'>
      <p>
        中国共产党在上海召开第一次全国代表大会，宣告了中国共产党的成立。
      </p>
    </div>
  </li>
  <li class='work'>
    <input class='radio' id='work4' name='works' type='radio'>
    <div class="relative">
      <label for='work4'>党的三大：大革命洪流中召开的党的代表大会</label>
      <span class='date'>1923年</span>
      <span class='circle'></span>
    </div>
    <div class='content'>
      <p>
        1923年，中国共产党第三次全国代表大会在广州召开。<br/>1923年，党的三大召开，决定共产党员以个人身份加入国民党，实现国共合作，同时保持共产党在政治、思想、组织上的独立性。1924年，国民党一大召开，确立联俄、联共、扶助农工的三大政策，形成了新三民主义，标志着第一次国共合作正式形成。
      </p>
    </div>
  </li>
  <li class='work'>
    <input class='radio' id='work3' name='works' type='radio'>
    <div class="relative">
      <label for='work3'>党的八大：探索建设社会主义道路的良好开端</label>
      <span class='date'>1956年</span>
      <span class='circle'></span>
    </div>
    <div class='content'>
      <p>
        1956年八大召开，大会正确分析了国内外形势和国内主要矛盾的变化，指出：由于社会主义改造已经取得决定性胜利，我国无产阶级同资产阶级之间的矛盾已经基本解决，国内的主要矛盾，已经是人民对于建立先进的工业国的要求同落后的农业国的现实之间的矛盾，已经是人民对于经济文化迅速发展的需要同当前经济文化不能满足人民需要的状况之间的矛盾。
      </p>
    </div>
  </li>
  <li class='work'>
    <input class='radio' id='work2' name='works' type='radio'>
    <div class="relative">
      <label for='work2'>党的十三大：阐述社会主义初级阶段理论</label>
      <span class='date'>1987年</span>
      <span class='circle'></span>
    </div>
    <div class='content'>
      <p>
        1987年十三大召开，十三大第一次系统地阐明了关于社会主义初级阶段的理论，明确概括了党在社会主义初级阶段的基本路线。大会还制定了到21世纪中叶经济发展分三走、实现现代化的发展战略，并提出了政治体制改革的任务。
      </p>
    </div>
  </li>
  <li class='work'>
    <input class='radio' id='work1' name='works' type='radio'>
    <div class="relative">
      <label for='work1'>党的十七大：科学发展，共建和谐的大会</label>
      <span class='date'>2007年</span>
      <span class='circle'></span>
    </div>
    <div class='content'>
      <p>
        2007年党的十七大召开，党的十七大的主题是：“高举中国特色社会主义伟大旗帜，以邓小平理论和‘三个代表’重要思想为指导，深入贯彻落实科学发展观，继续解放思想，坚持改革开放，推动科学发展，促进社会和谐，为争取全面建设小康社会新胜利而奋斗。”
      </p>
    </div>
  </li>
</ul>
</div>

            <h2 id="section-3">共同庆祝</h2>
            <div class="row">
   <div class="col-sm-6 col-md-6">
      <div class="thumbnail">
         <a href="arm_police.html"><img src="../images/arm_police.jpeg" alt="解放军和武警"></a>
      </div>
      <div class="caption">
         <h3>解放军和武警官兵以多种形式为党庆生</h3>
         <p>
            <a href="arm_police.html" class="btn btn-primary" role="button">了解更多</a> 
         </p>
      </div>
   </div>
   <div class="col-sm-6 col-md-6">
      <div class="thumbnail">
         <a href="sea_police.html"><img src="../images/sea_police.jpeg" alt="海军"></a>
      </div>
      <div class="caption">
         <h3>海军在战位上为党庆生</h3>
         <p>
            <a href="sea_police.html" class="btn btn-primary" role="button">了解更多</a> 
         </p>
      </div>
   </div>

</div>
<!-- /content -->

<!-- footer -->
<footer> <audio src="../audio/群星 - 歌唱祖国.mp3"  loop autoplay> </footer>
<!-- /footer -->

    <script src="../js/jquery-1.8.2.min.js"></script>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>


</body>

 <script type="text/javascript">

// 将后面逐字出现的JavaScript代码注释掉轮播图即可生效。

 	// 轮播图
 //在页面加载完后立即执行多个函数方案。
 function addloadEvent(func){
 var oldonload=window.onload;
 if(typeof window.onload !="function"){
  window.onload=func;
 }
 else{
  window.onload=function(){
  if(oldonload){
   oldonload(); 
  }
  func();
  }
 }
 }
 //在页面加载完后立即执行多个函数方案结束。
 addloadEvent(lbt);
 //轮播图动画切换原理
 function lbt(){
 var container=document.getElementById("container");
 var prev=document.getElementById("prev");
 var next=document.getElementById("next");
 var list=document.getElementById("list");
 var buttons=document.getElementById("buttons").getElementsByTagName("span");
 var imgs=list.getElementsByTagName("img");
 var index=1;
 var animated=false;
 var timer;
 //当前图片轮播的圆点变色显示，原理：index数值是跟随list滑动次数递增的，第一次index=1，所以第一个button的索引值就是0。
 //for循环是添加on样式之前要清空之前的on。
 function showButton(){
 for(var i=0;i<buttons.length;i++){
 if(buttons[i].className=="on"){
 buttons[i].className="";
 break;
 }
 }
 buttons[index-1].className="on";
 }
 //圆点变色显示 结束。
 function animate(offset){
 animated=true;
 var newLeft=parseInt(list.style.left)+offset;//当前的偏移量+下一次的偏移量=新的偏移量
 var time=300;//位移总时间
 var interval=10;//位移间隔时间
 //动画效果自定义公式： 每次位移的距离=单次偏移距离/位移次数
 var speed=offset/(time/interval);
 //递归函数 直到不满足条件（跳到辅助图）
 //递归就是把600偏移量分为多次完成偏移
 function go(){
 //speed<0 并且 当前偏移量>下一次偏移量 就是向左偏移 || 反之向右偏移 
 if ((speed<0 &&parseInt(list.style.left)>newLeft) || (speed>0 &&parseInt(list.style.left)<newLeft)) {
 list.style.left=parseInt(list.style.left)+speed+"px";//每次位移的值
 setTimeout(go,interval);//10毫秒再次调用go函数
 }else{
 animated=false;
 list.style.left=newLeft+"px";//当前的偏移值=新的偏移值
 if(newLeft>-900){
 list.style.left=-3000+"px";
 }
 if (newLeft<-3000){
 list.style.left=-900+"px";
 }
 }
 }
 go();
 }
 //自动播放3秒执行一次next.onclick
 function play(){
 timer=setInterval(function(){
 next.onclick();
 },3000);
 }
 function stop(){
 clearInterval(timer);
 }
 //执行所有函数
 next.onclick=function(){
 if(index==5){
 index=1;
 }else{
 index+=1;
 }
 showButton();
 if(!animated){
 animate(-900);
 }
 }
 //执行所有函数
 prev.onclick=function(){
 if(index==1){
 index=5;
 }else{
 index-=1;
 }
 showButton();
 if(!animated){
 animate(900);
 }
 }
 //点击圆点按钮 偏移
 for(var i=0;i<buttons.length;i++){
 buttons[i].onclick=function(){
 if(this.className=="on"){
 return;
 }
 //要点击的index属性的值 转换为整数
 var myIndex=parseInt(this.getAttribute("index"));
 //偏移量=-600*（要点击的位置-当前所在的位置），当前的位置就是index循环所得
 var os=-900*(myIndex-index);
 //切换完成后，把点击的index位置变成当前的index位置 
 index=myIndex;
 showButton();
 if(!animated){
 animate(os);
 }
 }
 }
 container.onmouseover=stop;
 container.onmouseout=play;
 play();
 }




  // 逐字出现
 window.onload = function () {
  var myDiv = document.getElementById("myDiv");
  var contentArr = "时间从未改变前行的脚步<br/>又一个七一来到<br/>一个党员，一面旗帜<br/>一份承诺，一份责任<br/>每一份伟大的开始<br/>都源于对信念、使命的坚持<br/>我们走得再远都不能忘记来时的路<br/>无论何时都不能忘却革命精神".split("");
  var content = "";
  var index = 0;
  var ID = setInterval(function () {
  content += contentArr[index];
  myDiv.innerHTML = content + "_";
  index++;
  if(index === contentArr.length){
   myDiv.innerHTML = content ;
   clearInterval(ID);
   console.log("结束了");
  }
  },100);
 }
 
 </script>

</html>
